alias flushdns="dscacheutil -flushcache"
alias portscan="/Applications/Utilities/Network\ Utility.app/Contents/Resources/stroke"

# IP addresses
alias ip="dig +short myip.opendns.com @resolver1.opendns.com"
alias localip="ipconfig getifaddr en0"
alias ips="ifconfig -a | perl -nle'/(\d+\.\d+\.\d+\.\d+)/ && print $1'"

# Enhanced WHOIS lookups
alias whois="whois -h whois-servers.net"

# Start an HTTP server from a directory, optionally specifying the port
function server() {
	local port="${1:-8000}"
	# Uncomment to open new tab in browser. This really nagged me when restarting the server.
	# open "http://localhost:${port}/"
	# Set the default Content-Type to `text/plain` instead of `application/octet-stream`
	# And serve everything as UTF-8 (although not technically correct, this doesnâ€™t break anything for binary files)
	python -c $'import SimpleHTTPServer;\nmap = SimpleHTTPServer.SimpleHTTPRequestHandler.extensions_map;\nmap[""] = "text/plain";\nfor key, value in map.items():\n\tmap[key] = value + ";charset=UTF-8";\nSimpleHTTPServer.test();' "$port"
}

# Scan local network for devices
# Ping broadcast first
scanlocal() {
	ping -c 1 192.168.0.255 > /dev/null && arp -ai en0 | sed 's/(//g;s/)//g' | awk '{ printf "%-16s %-20s %-5s %-14s %s\n", $2, $4, $6, $8, $1}'
}